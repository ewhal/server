CREATE TYPE language AS ENUM
(
  'English',
  'Spanish',
  'French',
  'German',
  'Portuguese',
  'Turkish',
  'Indonesian',
  'Greek',
  'Filipino',
  'Italian',
  'Polish',
  'Thai',
  'Malay',
  'Hungarian',
  'Romanian',
  'Arabic',
  'Hebrew',
  'Russian',
  'Vietnamese',
  'Dutch',
  'Bengali',
  'Persian',
  'Czech',
  'Brazilian',
  'Bulgarian',
  'Danish',
  'Esperanto',
  'Swedish',
  'Lithuanian',
  'Other'
);
	
CREATE TYPE status AS ENUM
(
  'Stalled',
  'Discontinued',
  'Ongoing',
  'Complete'
);

CREATE TYPE type AS ENUM
(
  'Manga (Japanese)',
  'Manhwa (Korean)',
  'Webcomic (Japanese)',
  'Webcomic (Korean)'
);

CREATE TABLE tag
(
  id bigint GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  namespace text,
  name text
);

CREATE TABLE chapter
(
  id bigint GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  chapter_number text,
  title text,
  date timestamp,
  files text[]
);

CREATE TABLE series
(
  id bigint GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  name text,
  alt_name text[],
  cover text,
  description text
);

CREATE TABLE users
(
  id bigint GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  username text,
  email text,
  password text
);

CREATE TABLE groups
(
  id bigint GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  name text,
  links text[],
  description text,
  delay text
);


CREATE TABLE chapter_language
(
  chapter_id bigint REFERENCES chapter (id) ON DELETE CASCADE PRIMARY KEY,
  language language
);

CREATE TABLE chapter_group
(
  chapter_id bigint REFERENCES chapter (id) ON DELETE CASCADE PRIMARY KEY,
  group_id bigint REFERENCES groups (id) ON DELETE CASCADE
);

CREATE TABLE chapter_user_contributions
(
  chapter_id bigint REFERENCES chapter (id) ON DELETE CASCADE PRIMARY KEY,
  user_id bigint REFERENCES users (id) ON DELETE CASCADE
);

CREATE TABLE series_chapter
(
  series_id bigint REFERENCES series (id) ON DELETE CASCADE PRIMARY KEY,
  chapter_id bigint REFERENCES chapter (id) ON DELETE CASCADE
);

CREATE TABLE series_type
(
  series_id bigint REFERENCES series (id) ON DELETE CASCADE PRIMARY KEY,
  type type
);

CREATE TABLE series_status
(
  series_id bigint REFERENCES series (id) ON DELETE CASCADE PRIMARY KEY,
  status status
);

CREATE TABLE series_tag
(
  series_id bigint REFERENCES series (id) ON DELETE CASCADE,
  tag_id bigint REFERENCES tag (id) ON DELETE CASCADE
);

CREATE TABLE series_user_ratings
(
  series_id bigint REFERENCES series (id) ON DELETE CASCADE,
  user_id bigint REFERENCES users (id) ON DELETE CASCADE,
  rating integer
);

CREATE TABLE series_user_following
(
  series_id bigint REFERENCES series (id) ON DELETE CASCADE,
  user_id bigint REFERENCES users (id) ON DELETE CASCADE
);
